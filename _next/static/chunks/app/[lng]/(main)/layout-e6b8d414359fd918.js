(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5278],{3598:function(e,n,s){Promise.resolve().then(s.bind(s,7589))},886:function(e,n,s){"use strict";s.d(n,{G7:function(){return r},mf:function(){return a}});var a=function(e){return"function"==typeof e},r=function(e){return void 0===e}},8709:function(e,n){"use strict";n.Z=!1},7101:function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e,n){for(var s in n)Object.defineProperty(e,s,{enumerable:!0,get:n[s]})}(n,{default:function(){return i},getImageProps:function(){return c}});let a=s(7034),r=s(527),t=s(8045),l=a._(s(8541));function c(e){let{props:n}=(0,r.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(n))void 0===s&&delete n[e];return{props:n}}let i=t.Image},7589:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return M}});var a=s(2948),r=s(8872),t=s.n(r),l=s(2336),c=s(786),i=s(8523),o=s(1681),d=s(3412),f=s(1243),m=s(9774),x=s(4962);let h=[{icon:(0,a.jsx)(i._MN,{className:"size-4"}),href:"mailto:".concat(o.xK)},{icon:(0,a.jsx)(i.wGg,{className:"size-4"}),href:o.$t},{icon:(0,a.jsx)(i.S3E,{className:"size-4"}),href:o.v},{icon:(0,a.jsx)(i.dsO,{className:"size-4"}),href:o.Hj},{icon:(0,a.jsx)(i.a5v,{className:"size-4"}),href:o.SB},{icon:(0,a.jsx)(i.ipJ,{className:"size-4"}),href:o.at}];function u(e){let{className:n}=e;return(0,a.jsx)("footer",{className:"border-t",children:(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-col items-center justify-between gap-4 py-4 text-sm text-muted-foreground lg:flex-row",n),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 lg:items-start",children:[(0,a.jsxs)("p",{children:["\xa9 2024 All rights reserved"," ",(0,a.jsx)(t(),{href:"https://github.com/iceberg-Lab/",target:"_blank",className:"text-primary",children:"iceberg-Lab"}),"."]}),(0,a.jsx)("nav",{className:"flex h-4 flex-wrap items-center gap-2",children:h.map((e,n)=>(0,a.jsxs)(c.Fragment,{children:[0!==n&&(0,a.jsx)(f.Separator,{orientation:"vertical"}),(0,a.jsx)(t(),{href:e.href||"#",children:e.icon})]},n))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(m.default,{}),(0,a.jsx)(x.SwitchMode,{})]})]})})}var p=s(7101),g=s.n(p);function j(){return(0,a.jsx)("div",{className:"flex h-14 items-center lg:h-[60px] ",children:(0,a.jsxs)(t(),{href:"/",className:"flex items-center gap-2 font-semibold",children:[(0,a.jsx)(g(),{src:"/favicon.ico",alt:"logo",width:48,height:48}),(0,a.jsx)("span",{className:"inline-block font-bold",children:"VPNBoard"})]})})}var N=s(9601);async function b(e){return(0,N.Z)("/user/user/info",{method:"POST",...e||{}})}var v=s(4526),y=s(7812);let z=(0,v.sj)();var k=s(9986),_=s(886),w=s(8709),O=function(e){w.Z&&!(0,_.mf)(e)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".')),(0,c.useEffect)(function(){null==e||e()},[])},P=s(9921),S=s(8849),E=s(2467);let C=[{name:"仪表盘",href:""},{label:"设置"},{name:"系统配置",href:"/system"},{name:"支付配置",href:"/payment"},{label:"服务器"},{name:"节点管理",href:"/node"},{label:"财务"},{name:"商品管理",href:"/product"},{name:"订单管理",href:"/order"},{name:"优惠券管理",href:"/coupon"},{label:"用户"},{name:"用户管理",href:"/user"},{name:"公告管理",href:"/notice"},{name:"工单管理",href:"/ticket"},{name:"文档管理",href:"/knowledge"}];function M(e){let{children:n,params:{lng:s}}=e,r=(0,l.usePathname)(),c=(0,l.useRouter)();return O(async()=>{try{let{data:e}=await b({skipErrorHandler:!0});z.userInfo=e.data}catch(e){(0,y.kT)("Authorization"),c.push("/".concat(s,"/auth"))}}),(0,a.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,a.jsx)("div",{className:"hidden border-r bg-muted/40 md:block",children:(0,a.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:(0,a.jsx)(j,{})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("nav",{className:"grid items-start gap-1 px-2 text-sm font-medium lg:px-4",children:C.map(e=>e.label?(0,a.jsx)("span",{className:"text-muted-foreground",children:e.label},e.label):(0,a.jsx)(t(),{href:"/".concat(s).concat(e.href),className:(0,d.cn)("flex items-center gap-3 rounded-lg px-3 py-2 transition-all hover:text-primary",r==="/".concat(s).concat(e.href)?"bg-muted text-primary":"text-foreground"),children:e.name},"/".concat(s).concat(e.href)))})})]})}),(0,a.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,a.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6",children:[(0,a.jsxs)(E.yo,{children:[(0,a.jsx)(E.aM,{asChild:!0,children:(0,a.jsxs)(P.z,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[(0,a.jsx)(k.JO,{icon:"mdi:menu",className:"size-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,a.jsx)(E.ue,{side:"left",className:"flex flex-col ",children:(0,a.jsx)(S.x,{children:(0,a.jsx)("nav",{className:"grid gap-2 text-sm font-medium ",children:C.map(e=>e.label?(0,a.jsx)("span",{className:"text-muted-foreground",children:e.label},e.label):(0,a.jsx)(t(),{href:"/".concat(s).concat(e.href),className:(0,d.cn)("flex items-center gap-4 rounded-xl px-4 py-2 hover:text-foreground",r==="/".concat(s).concat(e.href)?"bg-muted text-primary":"text-foreground"),children:e.name},e.href))})})})]}),(0,a.jsx)("div",{className:"w-full flex-1"}),(0,a.jsxs)(P.z,{variant:"secondary",size:"icon",className:"rounded-full",children:[(0,a.jsx)(k.JO,{icon:"mdi:user",className:"size-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]}),(0,a.jsx)(P.z,{variant:"outline",onClick:()=>{(0,y.kT)("Authorization"),c.push("/".concat(s,"/auth"))},children:"退出登录"})]}),(0,a.jsxs)(S.x,{className:"relative flex flex-col gap-4 p-4 lg:gap-6 lg:p-6",children:[(0,a.jsx)("main",{className:"min-h-[calc(100dvh-194px-env(safe-area-inset-top))] pb-4 lg:min-h-[calc(100dvh-194px)]",children:n}),(0,a.jsx)(u,{})]})]})]})}}},function(e){e.O(0,[792,1896,9185,2887,778,3624,4129,4075,9374,1326,8228,2100,1162,1744],function(){return e(e.s=3598)}),_N_E=e.O()}]);