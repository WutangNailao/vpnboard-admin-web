(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4671],{96474:function(e,t,n){Promise.resolve().then(n.bind(n,22418)),Promise.resolve().then(n.bind(n,789)),Promise.resolve().then(n.bind(n,61174)),Promise.resolve().then(n.bind(n,81623)),Promise.resolve().then(n.bind(n,56815)),Promise.resolve().then(n.bind(n,60753))},22418:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var s=n(52948),r=n(24293),a=n(44645),l=n(92887),i=n(44783),d=n(81623),o=n(26478);function c(){let{data:e,refetch:t}=(0,a.a)({queryKey:["postAdminConfigGetSiteConfig"],queryFn:async()=>{let{data:e}=await (0,r.V7)();return e.data}});async function n(n,s){if((null==e?void 0:e[n])!==s)try{await (0,r.zv)({...e,[n]:s}),l.A.success("保存成功"),t()}catch(e){}}return(0,s.jsx)(o.iA,{children:(0,s.jsxs)(o.RM,{children:[(0,s.jsxs)(o.SC,{children:[(0,s.jsxs)(o.pj,{children:[(0,s.jsx)(d.Label,{children:"LOGO"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于显示需要LOGO的地方。"})]}),(0,s.jsx)(o.pj,{className:"text-right",children:(0,s.jsx)(i.I,{placeholder:"请输入LOGO URL，末尾不要/",defaultValue:null==e?void 0:e.site_logo,onBlur:e=>{n("site_logo",e.target.value)}})})]}),(0,s.jsxs)(o.SC,{children:[(0,s.jsxs)(o.pj,{children:[(0,s.jsx)(d.Label,{children:"站点名称"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于显示需要站点名称的地方。"})]}),(0,s.jsx)(o.pj,{className:"text-right",children:(0,s.jsx)(i.I,{placeholder:"请输入站点名称",defaultValue:null==e?void 0:e.site_name,onBlur:e=>{n("site_name",e.target.value)}})})]}),(0,s.jsxs)(o.SC,{children:[(0,s.jsxs)(o.pj,{children:[(0,s.jsx)(d.Label,{children:"站点描述"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于显示需要站点描述的地方"})]}),(0,s.jsx)(o.pj,{className:"text-right",children:(0,s.jsx)(i.I,{placeholder:"请输入站点描述",defaultValue:null==e?void 0:e.site_desc,onBlur:e=>{n("site_desc",e.target.value)}})})]}),(0,s.jsxs)(o.SC,{children:[(0,s.jsxs)(o.pj,{children:[(0,s.jsx)(d.Label,{children:"站点网址"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"当前网站最新网址，将会在邮件等需要用于网址处体现。"})]}),(0,s.jsx)(o.pj,{className:"text-right",children:(0,s.jsx)(i.I,{placeholder:"请输入站点URL，末尾不要/",defaultValue:null==e?void 0:e.host,onBlur:e=>{n("host",e.target.value)}})})]})]})})}},789:function(e,t,n){"use strict";n.d(t,{default:function(){return j}});var s=n(52948),r=n(30786),a=n(24293),l=n(3536),i=n(44645),d=n(92887),o=n(19921),c=n(44783),u=n(81623),f=n(31050),m=n(56815),x=n(26478),h=n(60753),p=n(5151);function j(){let[e,t]=(0,r.useState)(),{data:n,refetch:j}=(0,i.a)({queryKey:["postAdminConfigGetSubscribeConfig"],queryFn:async()=>{let{data:e}=await (0,a.fg)();return e.data}});async function g(e,t){if((null==n?void 0:n[e])!==t)try{await (0,a.rk)({...n,[e]:t}),d.A.success("保存成功"),j()}catch(e){}}let{data:b}=(0,i.a)({queryKey:["postAdminConfigListSubscribeSchemeType"],queryFn:async()=>{let{data:e}=await (0,a.og)();return e.data.scheme_types||[]}});return(0,r.useEffect)(()=>{e||t(null==n?void 0:n.app)},[e,n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.iA,{children:(0,s.jsxs)(x.RM,{children:[(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.pj,{children:[(0,s.jsx)(u.Label,{children:"单订阅模式"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"是否开启单订阅模式，开启后无法关闭，所有用户只保留第一个有效套餐，其他套餐折抵转换到余额"})]}),(0,s.jsx)(x.pj,{className:"text-right",children:(0,s.jsx)(m.Switch,{disabled:null==n?void 0:n.single_model,defaultChecked:null==n?void 0:n.single_model,onCheckedChange:e=>{g("single_model",e)}})})]}),(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.pj,{children:[(0,s.jsx)(u.Label,{children:"订阅URL"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于订阅所使用，留空则为站点URL。如需多个订阅URL 请每行一个。"})]}),(0,s.jsx)(x.pj,{className:"text-right",children:(0,s.jsx)(p.g,{placeholder:"请输入订阅URL，末尾不要/。每行一个支持多域名",defaultValue:null==n?void 0:n.subscribe_url,onBlur:e=>{g("subscribe_url",e.target.value)}})})]}),(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.pj,{children:[(0,s.jsx)(u.Label,{children:"订阅泛解析"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于订阅所使用"})]}),(0,s.jsx)(x.pj,{className:"text-right",children:(0,s.jsx)(m.Switch,{defaultChecked:null==n?void 0:n.wildcard_resolution,onCheckedChange:e=>{g("wildcard_resolution",e)}})})]}),(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.pj,{children:[(0,s.jsx)(u.Label,{children:"订阅路径"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"用于订阅所使用"})]}),(0,s.jsx)(x.pj,{className:"flex items-center gap-2 text-right",children:(0,s.jsx)(c.I,{placeholder:"请输入",defaultValue:null==n?void 0:n.subscribe_path,onBlur:e=>{g("subscribe_path",e.target.value)}})})]}),(0,s.jsxs)(x.SC,{children:[(0,s.jsxs)(x.pj,{children:[(0,s.jsx)(u.Label,{children:"APP"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"APP的下载地址配置,及导入规则配置，修改后请记得保存哦"})]}),(0,s.jsxs)(x.pj,{className:"flex justify-end gap-2",children:[(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>{t(null==n?void 0:n.app)},children:"重置"}),(0,s.jsx)(o.z,{size:"sm",onClick:()=>{g("app",e)},children:"保存"})]})]})]})}),(0,s.jsxs)(h.Tabs,{defaultValue:"windows",children:[(0,s.jsx)(h.TabsList,{className:"h-full flex-wrap",children:Object.keys(e||{}).map(e=>(0,s.jsx)(h.TabsTrigger,{value:e,className:"uppercase",children:e},e))}),Object.keys(e||{}).map(n=>{let r=e[n],a=(s,a,l)=>{let i=r.map((e,t)=>t===l?{...e,[s]:a}:e);t({...e,[n]:i})};return(0,s.jsxs)(l.nU,{value:n,className:"mt-4 space-y-4",children:[r.map((l,i)=>(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 lg:flex-row",children:[(0,s.jsxs)(f.Ph,{defaultValue:l.scheme_type,onValueChange:e=>{a("scheme_type",e,i)},children:[(0,s.jsx)(f.i4,{children:(0,s.jsx)(f.ki,{placeholder:"订阅协议"})}),(0,s.jsx)(f.Bw,{children:null==b?void 0:b.map(e=>(0,s.jsx)(f.Ql,{value:e,children:e},e))})]}),(0,s.jsx)(c.I,{placeholder:"应用名称",defaultValue:l.name,onChange:e=>{a("name",e.target.value,i)}}),(0,s.jsx)(c.I,{placeholder:"应用图标",defaultValue:l.icon,onChange:e=>{a("name",e.target.value,i)}}),(0,s.jsx)(c.I,{placeholder:"应用下载地址",defaultValue:l.url,onChange:e=>{a("name",e.target.value,i)}}),(0,s.jsx)(o.z,{variant:"destructive",size:"sm",onClick:()=>{t({...e,[n]:r.filter((e,t)=>t!==i)})},children:"删除"})]},i)),(0,s.jsx)(o.z,{className:"w-full",variant:"outline",onClick:()=>{t({...e,[n]:[...r,{}]})},children:"添加"})]},n)})]})]})}},61174:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var s=n(52948),r=n(88671),a=n(77741);function l(){return(0,s.jsx)(a.Z,{className:"h-[500px]",renderHTML:e=>(0,s.jsx)(r.Z,{children:e}),defaultValue:"",onChange:e=>{let{text:t}=e;console.log(t)}})}},77741:function(e,t,n){"use strict";var s=n(85331);n(48005),n(33449);let r=(0,s.default)(()=>n.e(6777).then(n.bind(n,76777)),{loadableGenerated:{webpack:()=>[76777]},ssr:!1});t.Z=r},88671:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var s=n(52948),r=n(39475),a=n(66044),l=n(63059),i=n(16419),d=n(3085),o=n(4402),c=n(61772),u=n(18849);function f(e){let{children:t}=e,{mode:n}=(0,c.R)(r.n2);return(0,s.jsx)(a.U,{className:"prose max-w-none dark:prose-invert",remarkPlugins:[o.Z],components:{code(e){let{children:t,className:r,node:a,ref:o,...c}=e,f=/language-(\w+)/.exec(r||"");return(0,s.jsxs)(u.x,{className:"w-full",children:[(0,s.jsx)(l.Z,{...c,language:(null==f?void 0:f[1])||"bash",style:"dark"===n?i.Z:d.Z,children:String(t).replace(/\n$/,"")}),(0,s.jsx)(u.B,{orientation:"horizontal"})]})}},children:t})}},31050:function(e,t,n){"use strict";n.d(t,{Bw:function(){return x},DI:function(){return o},Ph:function(){return d},Ql:function(){return h},i4:function(){return u},ki:function(){return c}});var s=n(52948),r=n(30786),a=n(28523),l=n(21418),i=n(33412);let d=l.fC,o=l.ZA,c=l.B4,u=r.forwardRef((e,t)=>{let{className:n,children:r,...d}=e;return(0,s.jsxs)(l.xz,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...d,children:[r,(0,s.jsx)(l.JO,{asChild:!0,children:(0,s.jsx)(a.jnn,{className:"size-4 opacity-50"})})]})});u.displayName=l.xz.displayName;let f=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(l.u_,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,s.jsx)(a.g8U,{})})});f.displayName=l.u_.displayName;let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(l.$G,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",n),...r,children:(0,s.jsx)(a.v4q,{})})});m.displayName=l.$G.displayName;let x=r.forwardRef((e,t)=>{let{className:n,children:r,position:a="popper",...d}=e;return(0,s.jsx)(l.h_,{children:(0,s.jsxs)(l.VY,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:a,...d,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.l_,{className:(0,i.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(m,{})]})})});x.displayName=l.VY.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(l.__,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",n),...r})}).displayName=l.__.displayName;let h=r.forwardRef((e,t)=>{let{className:n,children:r,...d}=e;return(0,s.jsxs)(l.ck,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...d,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(l.wU,{children:(0,s.jsx)(a.nQG,{className:"size-4"})})}),(0,s.jsx)(l.eT,{children:r})]})});h.displayName=l.ck.displayName,r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(l.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",n),...r})}).displayName=l.Z0.displayName},56815:function(e,t,n){"use strict";n.r(t),n.d(t,{Switch:function(){return i}});var s=n(52948),r=n(30786),a=n(84051),l=n(33412);let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(a.fC,{className:(0,l.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...r,ref:t,children:(0,s.jsx)(a.bU,{className:(0,l.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});i.displayName=a.fC.displayName},60753:function(e,t,n){"use strict";n.d(t,{Tabs:function(){return i},TabsContent:function(){return c},TabsList:function(){return d},TabsTrigger:function(){return o}});var s=n(52948),r=n(30786),a=n(3536),l=n(33412);let i=a.fC,d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(a.aV,{ref:t,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...r})});d.displayName=a.aV.displayName;let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(a.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...r})});o.displayName=a.xz.displayName;let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)(a.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r})});c.displayName=a.VY.displayName},5151:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var s=n(52948),r=n(30786),a=n(33412);let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});l.displayName="Textarea"},39475:function(e,t,n){"use strict";n.d(t,{Ef:function(){return o},bP:function(){return u},n2:function(){return l}});var s=n(54526),r=n(81681),a=n(87812);let l=(0,s.sj)({systemMode:(0,a.ej)("systemMode")||r.H5,mode:(0,a.ej)("mode")||r.ws,theme:(0,a.ej)("theme")||r.t0});function i(){return(0,r.jU)()?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r.H5}function d(e){return"system"===e?i():e}function o(e){return d(e||l.mode)===document.documentElement.getAttribute("data-mode")}function c(e){l.mode!==e&&(0,a.d8)("mode",e),l.mode=e,l.currentMode=d(e);let t=document.documentElement;t.setAttribute("data-mode",l.currentMode),t.style.colorScheme=l.currentMode,l.systemMode!==i()&&(l.systemMode=i(),(0,a.d8)("systemMode",i()))}function u(e,t){var n,s;let r="dark"===document.documentElement.getAttribute("data-mode");if(!document.startViewTransition||o(e))return c(e);let a=document.startViewTransition(()=>c(e)),l=null!==(n=null==t?void 0:t.x)&&void 0!==n?n:window.innerWidth,i=null!==(s=null==t?void 0:t.y)&&void 0!==s?s:window.innerHeight,d=Math.hypot(Math.max(l,innerWidth-l),Math.max(i,innerHeight-i));a.ready.then(()=>{let e=["circle(0px at ".concat(l,"px ").concat(i,"px)"),"circle(".concat(d,"px at ").concat(l,"px ").concat(i,"px)")];document.documentElement.animate({clipPath:r?[...e].reverse():e},{duration:500,easing:"ease-in",pseudoElement:r?"::view-transition-old(root)":"::view-transition-new(root)"})})}},33449:function(){},47115:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var s=n(98323),r=n(30786),a=n(99034);let l=(0,r.forwardRef)((e,t)=>(0,r.createElement)(a.WV.label,(0,s.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))}},function(e){e.O(0,[1435,792,1896,736,4699,1960,6035,2494,4645,1418,3536,7715,786,2100,1162,1744],function(){return e(e.s=96474)}),_N_E=e.O()}]);