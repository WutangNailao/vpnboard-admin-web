(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1998],{49150:function(e,t,s){Promise.resolve().then(s.bind(s,77187))},77187:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var r=s(52948),a=s(26614),n=s(19921),l=s(56815),i=s(44517),o=s(78324),d=s(30786),c=s(24293),u=s(72216),m=s(89986),x=s(44645),f=s(83336),h=s(46959),p=s(2720),j=s(44783),y=s(18849),g=s(52467),N=s(88671),b=s(77741);let v=h.z.object({user_name:h.z.string().min(2,{message:"name must be at least 2 characters."})});function w(e){let{onSubmit:t,initialValues:s,loading:a,trigger:l,title:i}=e,[o,h]=(0,d.useState)(!1),w=(0,f.cI)({resolver:(0,u.F)(v),defaultValues:{...s}});async function C(e){await t(e)&&h(!1)}(0,d.useEffect)(()=>{null==w||w.reset(s)},[w,s]);let{data:F}=(0,x.a)({queryKey:["postAdminProductList"],queryFn:async()=>{let{data:e}=await (0,c._n)();return e.data}});return(0,r.jsxs)(g.yo,{open:o,onOpenChange:h,children:[(0,r.jsx)(g.aM,{asChild:!0,children:(0,r.jsx)(n.z,{size:"sm",onClick:()=>{w.reset(),h(!0)},children:l})}),(0,r.jsxs)(g.ue,{className:"sm:max-w-[100vw]",children:[(0,r.jsx)(g.Tu,{children:(0,r.jsx)(g.bC,{children:i})}),(0,r.jsx)(y.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,r.jsx)(p.l0,{...w,children:(0,r.jsxs)("form",{onSubmit:w.handleSubmit(C),className:"space-y-4 px-6 pt-4",children:[(0,r.jsx)(p.Wi,{control:w.control,name:"user_name",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"标题"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(j.I,{placeholder:"请输入",...t})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:w.control,name:"category",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"分类"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(j.I,{placeholder:"请输入分类，分类将自动归集",...t})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:w.control,name:"context",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"公告内容"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(b.Z,{style:{height:"500px"},renderHTML:e=>(0,r.jsx)(N.Z,{children:e}),defaultValue:t.value,onChange:e=>{let{text:s}=e;return t.onChange(s)}})}),(0,r.jsx)(p.zG,{})]})}})]})})}),(0,r.jsxs)(g.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,r.jsx)(n.z,{variant:"outline",disabled:a,onClick:()=>{h(!1)},children:"取消"}),(0,r.jsxs)(n.z,{disabled:a,onClick:w.handleSubmit(C),children:[a&&(0,r.jsx)(m.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," 确定"]})]})]})]})}function C(){return(0,r.jsx)(i.w,{header:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{children:"文档列表"}),(0,r.jsx)(w,{trigger:"新建",title:"新建文档",onSubmit:async()=>!0})]}),columns:[{accessorKey:"enable",header:"显示",cell:e=>{let{row:t}=e;return(0,r.jsx)(l.Switch,{checked:t.getValue("enabled")})}},{accessorKey:"title",header:"标题"},{accessorKey:"category",header:"分类"},{accessorKey:"updated_at",header:"更新时间",cell:e=>{let{row:t}=e;return(0,a.p6)(t.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,r.jsx)("div",{className:"text-right",children:"操作"}),cell:e=>{let{row:t}=e;return(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.z,{children:"编辑"}),(0,r.jsx)(o.Z,{trigger:"删除",title:"你确定要删除吗?",description:"删除后数据将无法恢复，请谨慎操作",onConfirm:async()=>{},onCancelText:"取消",onConfirmText:"确认"})]})}}],data:[],pagination:{page:1,size:0,total:0},operations:{remove:async e=>{}}})}},2720:function(e,t,s){"use strict";s.d(t,{NI:function(){return p},Wi:function(){return u},l0:function(){return d},lX:function(){return h},xJ:function(){return f},zG:function(){return j}});var r=s(52948),a=s(30786),n=s(63911),l=s(83336),i=s(33412),o=s(81623);let d=l.RV,c=a.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(l.Qr,{...t})})},m=()=>{let e=a.useContext(c),t=a.useContext(x),{getFieldState:s,formState:r}=(0,l.Gc)(),n=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},x=a.createContext({}),f=a.forwardRef((e,t)=>{let{className:s,...n}=e,l=a.useId();return(0,r.jsx)(x.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",s),...n})})});f.displayName="FormItem";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e,{error:n,formItemId:l}=m();return(0,r.jsx)(o.Label,{ref:t,className:(0,i.cn)(n&&"text-destructive",s),htmlFor:l,...a})});h.displayName="FormLabel";let p=a.forwardRef((e,t)=>{let{...s}=e,{error:a,formItemId:l,formDescriptionId:i,formMessageId:o}=m();return(0,r.jsx)(n.g7,{ref:t,id:l,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...s})});p.displayName="FormControl",a.forwardRef((e,t)=>{let{className:s,...a}=e,{formDescriptionId:n}=m();return(0,r.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",s),...a})}).displayName="FormDescription";let j=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e,{error:l,formMessageId:o}=m(),d=l?String(null==l?void 0:l.message):a;return d?(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",s),...n,children:d}):null});j.displayName="FormMessage"},52467:function(e,t,s){"use strict";s.d(t,{FF:function(){return p},Tu:function(){return h},aM:function(){return c},bC:function(){return j},ue:function(){return f},yo:function(){return d}});var r=s(52948),a=s(30786),n=s(97647),l=s(28523),i=s(14709),o=s(33412);let d=n.fC,c=n.xz;n.x8;let u=n.h_,m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t})});m.displayName=n.aV.displayName;let x=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),f=a.forwardRef((e,t)=>{let{side:s="right",className:a,children:i,...d}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,o.cn)(x({side:s}),a),...d,children:[i,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(l.Pxu,{className:"size-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let h=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};h.displayName="SheetHeader";let p=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="SheetFooter";let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",s),...a})});j.displayName=n.Dx.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})}).displayName=n.dk.displayName}},function(e){e.O(0,[1435,792,1896,736,9986,4699,1960,6035,2494,7647,5362,6856,4645,7715,839,6944,2100,1162,1744],function(){return e(e.s=49150)}),_N_E=e.O()}]);