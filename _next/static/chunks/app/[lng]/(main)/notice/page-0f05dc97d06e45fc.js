(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5025],{26848:function(e,t,r){Promise.resolve().then(r.bind(r,57607))},57607:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(52948),a=r(26614),s=r(19921),i=r(56815),o=r(44517),l=r(78324),d=r(30786),c=r(24293),u=r(72216),f=r(89986),m=r(44645),x=r(83336),p=r(46959),h=r(2720),b=r(44783),g=r(18849),y=r(52467),j=r(5151);let N=p.z.object({user_name:p.z.string().min(2,{message:"name must be at least 2 characters."})});function v(e){let{onSubmit:t,initialValues:r,loading:a,trigger:i,title:o}=e,[l,p]=(0,d.useState)(!1),v=(0,x.cI)({resolver:(0,u.F)(N),defaultValues:{...r}});async function w(e){await t(e)&&p(!1)}(0,d.useEffect)(()=>{null==v||v.reset(r)},[v,r]);let{data:k}=(0,m.a)({queryKey:["postAdminProductList"],queryFn:async()=>{let{data:e}=await (0,c._n)();return e.data}});return(0,n.jsxs)(y.yo,{open:l,onOpenChange:p,children:[(0,n.jsx)(y.aM,{asChild:!0,children:(0,n.jsx)(s.z,{size:"sm",onClick:()=>{v.reset(),p(!0)},children:i})}),(0,n.jsxs)(y.ue,{children:[(0,n.jsx)(y.Tu,{children:(0,n.jsx)(y.bC,{children:o})}),(0,n.jsx)(g.x,{className:"-mx-6 h-[calc(100vh-48px-36px-36px)]",children:(0,n.jsx)(h.l0,{...v,children:(0,n.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-4 px-6 pt-4",children:[(0,n.jsx)(h.Wi,{control:v.control,name:"user_name",render:e=>{let{field:t}=e;return(0,n.jsxs)(h.xJ,{children:[(0,n.jsx)(h.lX,{children:"标题"}),(0,n.jsx)(h.NI,{children:(0,n.jsx)(b.I,{placeholder:"请输入",...t})}),(0,n.jsx)(h.zG,{})]})}}),(0,n.jsx)(h.Wi,{control:v.control,name:"context",render:e=>{let{field:t}=e;return(0,n.jsxs)(h.xJ,{children:[(0,n.jsx)(h.lX,{children:"公告内容"}),(0,n.jsx)(h.NI,{children:(0,n.jsx)(j.g,{placeholder:"请输入公告内容 (支持 Markdown)",...t})}),(0,n.jsx)(h.zG,{})]})}})]})})}),(0,n.jsxs)(y.FF,{className:"flex-row justify-end gap-2 pt-3",children:[(0,n.jsx)(s.z,{variant:"outline",disabled:a,onClick:()=>{p(!1)},children:"取消"}),(0,n.jsxs)(s.z,{disabled:a,onClick:v.handleSubmit(w),children:[a&&(0,n.jsx)(f.Icon,{icon:"mdi:loading",className:"mr-2 animate-spin"})," 确定"]})]})]})]})}function w(){return(0,n.jsx)(o.w,{header:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{children:"公告列表"}),(0,n.jsx)(v,{trigger:"新建",title:"新建公告",onSubmit:async()=>!0})]}),columns:[{accessorKey:"enable",header:"启用",cell:e=>{let{row:t}=e;return(0,n.jsx)(i.r,{checked:t.getValue("enabled")})}},{accessorKey:"title",header:"标题"},{accessorKey:"context",header:"公告内容"},{accessorKey:"updated_at",header:"更新时间",cell:e=>{let{row:t}=e;return(0,a.p6)(t.getValue("updated_at"),"yyyy-MM-dd HH:mm:ss")}},{id:"actions",accessorKey:"id",header:()=>(0,n.jsx)("div",{className:"text-right",children:"操作"}),cell:e=>{let{row:t}=e;return(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,n.jsx)(s.z,{children:"编辑"}),(0,n.jsx)(l.Z,{trigger:"删除",title:"你确定要删除吗?",description:"删除后数据将无法恢复，请谨慎操作",onConfirm:async()=>{},onCancelText:"取消",onConfirmText:"确认"})]})}}],data:[],pagination:{page:1,size:0,total:0},operations:{remove:async e=>{}}})}},2720:function(e,t,r){"use strict";r.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return p},xJ:function(){return x},zG:function(){return b}});var n=r(52948),a=r(30786),s=r(63911),i=r(83336),o=r(33412),l=r(81623);let d=i.RV,c=a.createContext({}),u=e=>{let{...t}=e;return(0,n.jsx)(c.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},f=()=>{let e=a.useContext(c),t=a.useContext(m),{getFieldState:r,formState:n}=(0,i.Gc)(),s=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},m=a.createContext({}),x=a.forwardRef((e,t)=>{let{className:r,...s}=e,i=a.useId();return(0,n.jsx)(m.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...s})})});x.displayName="FormItem";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:s,formItemId:i}=f();return(0,n.jsx)(l.Label,{ref:t,className:(0,o.cn)(s&&"text-destructive",r),htmlFor:i,...a})});p.displayName="FormLabel";let h=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:o,formMessageId:l}=f();return(0,n.jsx)(s.g7,{ref:t,id:i,"aria-describedby":a?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!a,...r})});h.displayName="FormControl",a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:s}=f();return(0,n.jsx)("p",{ref:t,id:s,className:(0,o.cn)("text-[0.8rem] text-muted-foreground",r),...a})}).displayName="FormDescription";let b=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e,{error:i,formMessageId:l}=f(),d=i?String(null==i?void 0:i.message):a;return d?(0,n.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-[0.8rem] font-medium text-destructive",r),...s,children:d}):null});b.displayName="FormMessage"},52467:function(e,t,r){"use strict";r.d(t,{FF:function(){return h},Tu:function(){return p},aM:function(){return c},bC:function(){return b},ue:function(){return x},yo:function(){return d}});var n=r(52948),a=r(30786),s=r(97647),i=r(28523),o=r(14709),l=r(33412);let d=s.fC,c=s.xz;s.x8;let u=s.h_,f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t})});f.displayName=s.aV.displayName;let m=(0,o.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=a.forwardRef((e,t)=>{let{side:r="right",className:a,children:o,...d}=e;return(0,n.jsxs)(u,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(s.VY,{ref:t,className:(0,l.cn)(m({side:r}),a),...d,children:[o,(0,n.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,n.jsx)(i.Pxu,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=s.VY.displayName;let p=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};p.displayName="SheetHeader";let h=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="SheetFooter";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold text-foreground",r),...a})});b.displayName=s.Dx.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})}).displayName=s.dk.displayName},56815:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(52948),a=r(30786),s=r(84051),i=r(33412);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.fC,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:t,children:(0,n.jsx)(s.bU,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});o.displayName=s.fC.displayName},5151:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(52948),a=r(30786),s=r(33412);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});i.displayName="Textarea"},84051:function(e,t,r){"use strict";r.d(t,{bU:function(){return v},fC:function(){return N}});var n=r(98323),a=r(30786),s=r(88532),i=r(45477),o=r(69726),l=r(29367),d=r(20386),c=r(73123),u=r(99034);let f="Switch",[m,x]=(0,o.b)(f),[p,h]=m(f),b=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:o,checked:d,defaultChecked:c,required:f,disabled:m,value:x="on",onCheckedChange:h,...b}=e,[g,N]=(0,a.useState)(null),v=(0,i.e)(t,e=>N(e)),w=(0,a.useRef)(!1),k=!g||!!g.closest("form"),[C=!1,F]=(0,l.T)({prop:d,defaultProp:c,onChange:h});return(0,a.createElement)(p,{scope:r,checked:C,disabled:m},(0,a.createElement)(u.WV.button,(0,n.Z)({type:"button",role:"switch","aria-checked":C,"aria-required":f,"data-state":j(C),"data-disabled":m?"":void 0,disabled:m,value:x},b,{ref:v,onClick:(0,s.M)(e.onClick,e=>{F(e=>!e),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})})),k&&(0,a.createElement)(y,{control:g,bubbles:!w.current,name:o,value:x,checked:C,required:f,disabled:m,style:{transform:"translateX(-100%)"}}))}),g=(0,a.forwardRef)((e,t)=>{let{__scopeSwitch:r,...s}=e,i=h("SwitchThumb",r);return(0,a.createElement)(u.WV.span,(0,n.Z)({"data-state":j(i.checked),"data-disabled":i.disabled?"":void 0},s,{ref:t}))}),y=e=>{let{control:t,checked:r,bubbles:s=!0,...i}=e,o=(0,a.useRef)(null),l=(0,d.D)(r),u=(0,c.t)(t);return(0,a.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let n=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(n)}},[l,r,s]),(0,a.createElement)("input",(0,n.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:r},i,{tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let N=b,v=g}},function(e){e.O(0,[792,1896,736,9986,4699,1960,6035,2494,7647,5362,6856,4645,786,4517,2100,1162,1744],function(){return e(e.s=26848)}),_N_E=e.O()}]);